{"version":3,"file":"661.app-Quote.js","mappings":"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","sources":["webpack://Quote/./node_modules/@mui/icons-material/ContactPhone.js","webpack://Quote/./src/components/ContactInfo.js","webpack://Quote/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://Quote/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://Quote/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://Quote/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2z\"\n}), 'ContactPhone');\nexports.default = _default;","import { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport Email from \"@mui/icons-material/Email\";\nimport ContactPhone from \"@mui/icons-material/ContactPhone\";\nimport Button from \"@mui/material/Button\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { useNavigate } from \"react-router-dom\";\nimport style from \"./styles/basic-info.module.css\";\nimport OtpInputBox from \"./common/OtpInput\";\nimport Divider from \"@mui/material/Divider\";\nimport CheckCircleRoundedIcon from \"@mui/icons-material/CheckCircleRounded\";\nimport FingerprintIcon from \"@mui/icons-material/Fingerprint\";\nimport { mobileCheck } from \"../utility/common\";\nimport { firebase, auth } from \"../firebase\";\n// import Claims from \"home/Claims\";\n// const PurposeDetail = React.lazy(() => import(\"home/PurposeDetail\"));\n\nexport default function ContactInfo({\n  contactData,\n  setContactData,\n  setPlan,\n  error,\n  validate,\n  setLoader,\n}) {\n  let [isEmailOtpActive, setEmailOtpActive] = useState(false);\n  let [isMobileOtpActive, setMobileOtpActive] = useState(false);\n  let [isAadharOtpActive, setAadharOtpActive] = useState(false);\n\n  let [isEmailVarified, setEmailVerified] = useState(false);\n  let [isMobileVarified, setMobileVerified] = useState(false);\n  let [isAadharVerified, setAadharVerified] = useState(false);\n\n  let [emailOtp, setEmailOtp] = useState(\"\");\n  let [mobileOtp, setMobileOtp] = useState(\"\");\n  let [aadharOtp, setAadharOtp] = useState(\"\");\n\n  const [payload, setPayload] = useState(null);\n\n  const [final, setfinal] = useState(null);\n\n  useEffect(() => {\n    if (emailOtp.length == 6) setEmailVerified(true);\n  }, [emailOtp]);\n\n  // useEffect(() => {\n  //   const mojoauth = new MojoAuth(\"test-70d678ab-4b55-4445-9b2e-040ba352a6ce\", {\n  //     source: [{ type: \"phone\", feature: \"otp\" }],\n  //   });\n  //   mojoauth.signIn().then((payload) => {\n  //     setPayload(payload);\n  //     document.getElementById(\"mojoauth-passwordless-form\").remove();\n  //   });\n  // }, []);\n\n  useEffect(() => {\n    if (final == \"\") {\n      let verify = new firebase.auth.RecaptchaVerifier(\"recaptcha-container\");\n      auth\n        .signInWithPhoneNumber(\"+91\" + contactData[\"mobile\"], verify)\n        .then((result) => {\n          setfinal(result);\n          setMobileOtpActive(true);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    }\n  }, [final]);\n\n  useEffect(() => {\n    if (mobileOtp.length == 6) {\n      final\n        .confirm(mobileOtp)\n        .then((result) => {\n          setMobileVerified(true);\n        })\n        .catch((err) => {\n          alert(\"Wrong code\");\n        });\n    }\n  }, [mobileOtp]);\n  useEffect(() => {\n    if (aadharOtp.length == 6) setAadharVerified(true);\n  }, [aadharOtp]);\n\n  let navigate = useNavigate();\n  async function next() {\n    if (validate(0, \"mobile\") && validate(0, \"pincode\")) {\n      console.log(contactData);\n\n      setLoader(true);\n\n      const rawResponse = await fetch(\n        \"https://sahi-backend-dnhiaxv6nq-el.a.run.app/api/v1/sahi/quote/request\",\n        {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(contactData),\n        }\n      );\n      const content = await rawResponse.json();\n      setLoader(false);\n\n      setPlan([...content.quote]);\n      navigate(\"../plans\");\n    }\n  }\n  return (\n    <section class=\"chat-container\">\n      <span>\n        <div class=\"questions-container user_name\">\n          <div class=\" cGIqAI dmGYTj hTEcPe chat-question-inner user_name  text_single \">\n            <h3 class=\" fFoQAK\">Do the Prudential Insurance</h3>\n\n            <div className={style.basicDetailContainer}>\n              <div class=\"input-container  mt30 text\">\n                <TextField\n                  id=\"filled-basic\"\n                  fullWidth\n                  label=\"Mobile No.\"\n                  variant=\"outlined\"\n                  value={contactData[\"mobile\"]}\n                  onChange={(e) => {\n                    setMobileOtpActive(false);\n                    setMobileVerified(false);\n                    contactData[\"mobile\"] = e.target.value.slice(0, 10);\n                    setContactData({ ...contactData });\n                  }}\n                  onBlur={(e) => {\n                    validate(0, \"mobile\");\n                  }}\n                  error={error[\"mobile\"] != null}\n                  helperText={error[\"mobile\"]}\n                  spellCheck={false}\n                  type=\"number\"\n                  required\n                  inputProps={{\n                    maxlength: 13,\n                    autocomplete: \"off\",\n                  }}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <ContactPhone />{\" \"}\n                        <span className=\"prefix-code\">+91</span>\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </div>\n\n              <div class=\"input-container  mt30 text\">\n                <TextField\n                  id=\"filled-basic\"\n                  fullWidth\n                  label=\"Pin code\"\n                  variant=\"outlined\"\n                  value={contactData[\"pincode\"]}\n                  onChange={(e) => {\n                    setMobileOtpActive(false);\n                    setMobileVerified(false);\n                    contactData[\"pincode\"] = e.target.value.slice(0, 6);\n                    setContactData({ ...contactData });\n                  }}\n                  onBlur={(e) => {\n                    validate(0, \"pincode\");\n                  }}\n                  error={error[\"pincode\"] != null}\n                  helperText={error[\"pincode\"]}\n                  spellCheck={false}\n                  type=\"number\"\n                  required\n                  inputProps={{\n                    maxlength: 6,\n                    autocomplete: \"off\",\n                  }}\n                />\n              </div>\n              {final == \"\" && (\n                <div\n                  style={{ marginTop: \"30px\" }}\n                  id=\"recaptcha-container\"\n                ></div>\n              )}\n            </div>\n          </div>\n          <div class=\"submit-wrap align-center\">\n            <Button\n              variant=\"contained\"\n              onClick={next}\n              color=\"error\"\n              endIcon={<SendIcon />}\n            >\n              Next\n            </Button>\n          </div>\n        </div>\n      </span>\n    </section>\n  );\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["_interopRequireDefault","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","ContactInfo","contactData","setContactData","setPlan","error","validate","setLoader","useState","setMobileOtpActive","setEmailVerified","setMobileVerified","setAadharVerified","emailOtp","mobileOtp","aadharOtp","final","setfinal","useEffect","length","verify","firebase","auth","then","result","err","alert","confirm","navigate","useNavigate","console","log","fetch","method","headers","Accept","body","JSON","stringify","rawResponse","json","content","quote","class","className","style","id","fullWidth","label","variant","value","onChange","e","target","slice","onBlur","helperText","spellCheck","type","required","inputProps","maxlength","autocomplete","InputProps","startAdornment","position","marginTop","onClick","color","endIcon","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}